{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","utils/api.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","name","about","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","likesLength","length","title","onClick","onCardClick","link","e","stopPropagation","preventDefault","onCardLike","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","status","catch","err","console","log","all","getCardList","getUserInfo","method","body","JSON","stringify","cardId","cardLiked","avatar","authorization","Main","useState","cards","setCards","handleCardLike","changeCardLikeStatus","newCard","newCards","map","c","useEffect","cardList","forEach","push","id","onEditAvatar","onEditProfile","onAddPlace","index","Footer","PopupWithForm","isOpen","onClose","noValidate","children","type","EditProfilePopup","htmlFor","placeholder","required","minLength","maxLength","pattern","aria-describedby","AddPlacePopup","EditAvatarPopup","ImagePopup","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isSelectedCard","setIsSelectedCard","setCurrentUser","handleEscClose","key","closeAllPopups","window","removeEventListener","myUserInfo","Provider","value","addEventListener","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5a8b6ead.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.1a2d9102.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<img src={logo} alt=\"logo\" className=\"logo\" />\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext({ name: 'Harry', about: 'Wizard' });\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\t// Check if the current user is the owner of the card\r\n\tconst isOwn = props.card.owner._id === currentUser._id;\r\n\r\n\t// Check if the card was liked by the current user\r\n\tconst isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n\t// Set `className` for the delete button\r\n\tconst cardDeleteButtonClassName = `card__delete-button ${isOwn ? '' : 'card__delete-button_hidden'}`;\r\n\r\n\t// Set `className` for the like button\r\n\tconst cardLikeButtonClassName = `card__like-button ${isLiked ? 'card__like-button_active' : ''}`;\r\n\r\n\t// Set the total number of likes for the card\r\n\tconst likesLength = props.card.likes.length;\r\n\r\n\tfunction handleCardClick() {\r\n\t\tprops.onCardClick(props.card);\r\n\t}\r\n\r\n\tfunction handleLikeClick(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\t\tprops.onCardLike(props.card);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<li className=\"card\">\r\n\t\t\t<button className={cardDeleteButtonClassName} title=\"button that deletes card\"></button>\r\n\t\t\t<img onClick={handleCardClick} src={props.card.link} alt={props.card.name} className=\"card__image\" />\r\n\t\t\t<div className=\"card__content\">\r\n\t\t\t\t<div className=\"card__content_place_left\">\r\n\t\t\t\t\t<h3 className=\"card__title\">{props.card.name}</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"card__content_place_right\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={handleLikeClick}\r\n\t\t\t\t\t\tclassName={cardLikeButtonClassName}\r\n\t\t\t\t\t\ttitle=\"button that likes card\"\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"card__likes\">{likesLength}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default Card;\r\n","class Api {\n\tconstructor({ baseUrl, headers }) {\n\t\tthis._baseUrl = baseUrl;\n\t\tthis._headers = headers;\n\t}\n\n\tgetCardList() {\n\t\treturn fetch(`${this._baseUrl}/cards`, {\n\t\t\theaders: this._headers,\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tgetUserInfo() {\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\n\t\t\theaders: this._headers,\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tgetAppInfo() {\n\t\treturn Promise.all([this.getCardList(), this.getUserInfo()]);\n\t}\n\n\taddCard({ name, link }) {\n\t\treturn fetch(`${this._baseUrl}/cards`, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname,\n\t\t\t\tlink,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tremoveCard(cardId) {\n\t\treturn fetch(`${this._baseUrl}/cards/` + cardId, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'DELETE',\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tchangeCardLikeStatus(cardId, cardLiked) {\n\t\treturn fetch(`${this._baseUrl}/cards/likes/` + cardId, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: cardLiked ? 'PUT' : 'DELETE',\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tsetUserInfo({ name, about }) {\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'PATCH',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname,\n\t\t\t\tabout,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tsetUserAvatar({ avatar }) {\n\t\treturn fetch(`${this._baseUrl}/users/me/avatar`, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'PATCH',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tavatar,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n}\n\n// Api class instantiated only once (singleton pattern)\nconst api = new Api({\n\tbaseUrl: 'https://around.nomoreparties.co/v1/group-9',\n\theaders: {\n\t\tauthorization: '68927198-85ad-496d-8f9c-4cee8f16e3cd',\n\t\t'Content-Type': 'application/json',\n\t},\n});\n\nexport default api;\n","import React, { useState } from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\n\r\nfunction Main(props) {\r\n\tconst [cards, setCards] = useState([]);\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tapi.getCardList()\r\n\t\t\t.then((cards) => {\r\n\t\t\t\tlet cardList = [];\r\n\t\t\t\tcards.forEach((card) => {\r\n\t\t\t\t\tcardList.push(card);\r\n\t\t\t\t});\r\n\t\t\t\tsetCards(cardList);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}, []);\r\n\r\n\tfunction handleCardLike(card) {\r\n\t\t// Check one more time if this card was already liked\r\n\t\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\t\t// Send a request to the API and getting the updated card data\r\n\t\tapi.changeCardLikeStatus(card._id, !isLiked)\r\n\t\t\t.then((newCard) => {\r\n\t\t\t\t// Create a new array based on the existing one and put a new card into it\r\n\t\t\t\tconst newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n\t\t\t\t// Update the state\r\n\t\t\t\tsetCards(newCards);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className=\"main\">\r\n\t\t\t<section className=\"profile\">\r\n\t\t\t\t<div className=\"avatar\">\r\n\t\t\t\t\t<img src={currentUser.avatar} alt={currentUser.name} className=\"avatar__img\" id=\"avatar\" />\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"button button_avatar\"\r\n\t\t\t\t\t\ttitle=\"button that launches avatar editing form\"\r\n\t\t\t\t\t\tonClick={props.onEditAvatar}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"button button_edit\"\r\n\t\t\t\t\t\ttitle=\"button that launches profile editing form\"\r\n\t\t\t\t\t\tonClick={props.onEditProfile}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"profile__job\">{currentUser.about}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"button button_add\"\r\n\t\t\t\t\ttitle=\"button that launches card adding form\"\r\n\t\t\t\t\tonClick={props.onAddPlace}\r\n\t\t\t\t></button>\r\n\t\t\t</section>\r\n\t\t\t<section className=\"gallery\">\r\n\t\t\t\t<ul className=\"cards\">\r\n\t\t\t\t\t{cards.map((card, index) => (\r\n\t\t\t\t\t\t<Card key={index} card={card} onCardClick={props.onCardClick} onCardLike={handleCardLike} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<p className=\"footer__copyright\">&copy; James Ryan 2021</p>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\tconst isOpen = props.isOpen ? 'popup_opened' : '';\r\n\r\n\treturn (\r\n\t\t<div className={`popup popup_type_${props.name} ${isOpen}`}>\r\n\t\t\t<div className=\"popup__modal popup__modal_type_form\">\r\n\t\t\t\t<button className=\"popup__close\" title=\"button that closes form\" onClick={props.onClose}></button>\r\n\t\t\t\t<h2 className=\"content-title\">{props.title}</h2>\r\n\t\t\t\t<form className=\"form\" name={props.name} noValidate>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t\t<button className=\"button button_submit\" type=\"submit\" title=\"button that submits form\">\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup(props) {\r\n\treturn (\r\n\t\t<PopupWithForm name=\"profile\" title=\"Edit profile\" isOpen={props.isOpen} onClose={props.onClose}>\r\n\t\t\t<fieldset className=\"form__set\">\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"name-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form__input form__input_name\"\r\n\t\t\t\t\t\tid=\"name-input\"\r\n\t\t\t\t\t\tname=\"name-input\"\r\n\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\t\t\tpattern=\"[A-Za-z -]{2,}\"\r\n\t\t\t\t\t\taria-describedby=\"name-input-error\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"form__input-error\" id=\"name-input-error\"></span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"job-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form__input form__input_job\"\r\n\t\t\t\t\t\tid=\"job-input\"\r\n\t\t\t\t\t\tname=\"job-input\"\r\n\t\t\t\t\t\tplaceholder=\"About Me\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"200\"\r\n\t\t\t\t\t\taria-describedby=\"job-input-error\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"form__input-error\" id=\"job-input-error\"></span>\r\n\t\t\t\t</label>\r\n\t\t\t</fieldset>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\treturn (\r\n\t\t<PopupWithForm name=\"new-place\" title=\"New place\" isOpen={props.isOpen} onClose={props.onClose}>\r\n\t\t\t<fieldset className=\"form__set\">\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"title-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form__input form__input_title\"\r\n\t\t\t\t\t\tid=\"title-input\"\r\n\t\t\t\t\t\tname=\"title-input\"\r\n\t\t\t\t\t\tplaceholder=\"Title\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"1\"\r\n\t\t\t\t\t\tmaxLength=\"30\"\r\n\t\t\t\t\t\taria-describedby=\"title-input-error\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"form__input-error\" id=\"title-input-error\"></span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"url-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\tclassName=\"form__input form__input_url\"\r\n\t\t\t\t\t\tid=\"url-input\"\r\n\t\t\t\t\t\tname=\"url-input\"\r\n\t\t\t\t\t\tplaceholder=\"Image URL\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\taria-describedby=\"url-input-error\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"form__input-error\" id=\"url-input-error\"></span>\r\n\t\t\t\t</label>\r\n\t\t\t</fieldset>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\treturn (\r\n\t\t<PopupWithForm name=\"avatar\" title=\"Edit avatar\" isOpen={props.isOpen} onClose={props.onClose}>\r\n\t\t\t<label className=\"form__label\" htmlFor=\"avatar-input\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\tclassName=\"form__input form__input_avatar\"\r\n\t\t\t\t\tid=\"avatar-input\"\r\n\t\t\t\t\tname=\"avatar-input\"\r\n\t\t\t\t\tplaceholder=\"Avatar URL\"\r\n\t\t\t\t\taria-describedby=\"avatar-input-error\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"form__input-error\" id=\"avatar-input-error\"></span>\r\n\t\t\t</label>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\treturn (\r\n\t\t<div className={`popup popup_type_image ${props.card ? 'popup_opened' : ''}`}>\r\n\t\t\t<div className=\"popup__modal popup__modal_type_image\">\r\n\t\t\t\t<button className=\"popup__close\" title=\"button that closes form\" onClick={props.onClose}></button>\r\n\t\t\t\t<figure className=\"popup__figure\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={props.card && props.card.link}\r\n\t\t\t\t\t\talt={props.card && props.card.name}\r\n\t\t\t\t\t\tclassName=\"popup__image\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<figcaption className=\"popup__caption\">{props.card && props.card.name}</figcaption>\r\n\t\t\t\t</figure>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ImagePopup;\r\n","import '../index.css';\nimport React, { useState } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\n\nfunction App() {\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\tconst [isSelectedCard, setIsSelectedCard] = useState(null);\n\tconst [currentUser, setCurrentUser] = useState({});\n\n\tReact.useEffect(() => {\n\t\tapi.getUserInfo()\n\t\t\t.then((myUserInfo) => {\n\t\t\t\tsetCurrentUser(myUserInfo);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}, []);\n\n\tfunction handleEditAvatarClick() {\n\t\tsetIsEditAvatarPopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleEditProfileClick() {\n\t\tsetIsEditProfilePopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleAddPlaceClick() {\n\t\tsetIsAddPlacePopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleCardClick(card) {\n\t\tsetIsSelectedCard(card);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleEscClose(e) {\n\t\tif (e.key === 'Escape') {\n\t\t\tcloseAllPopups();\n\t\t}\n\t}\n\n\tfunction closeAllPopups() {\n\t\tsetIsEditAvatarPopupOpen(false);\n\t\tsetIsEditProfilePopupOpen(false);\n\t\tsetIsAddPlacePopupOpen(false);\n\t\tsetIsSelectedCard(null);\n\t\twindow.removeEventListener('keyup', handleEscClose);\n\t}\n\n\treturn (\n\t\t<div className=\"page\">\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\n\t\t\t\t<Header />\n\t\t\t\t<Main\n\t\t\t\t\tonEditProfile={handleEditProfileClick}\n\t\t\t\t\tonAddPlace={handleAddPlaceClick}\n\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\n\t\t\t\t\tonCardClick={handleCardClick}\n\t\t\t\t/>\n\t\t\t\t<Footer />\n\t\t\t\t<PopupWithForm name=\"confirm delete\" title=\"Are you sure?\" isOpen={false} onClose={closeAllPopups} />\n\t\t\t\t<EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n\t\t\t\t<AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n\t\t\t\t<EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n\t\t\t\t<ImagePopup card={isSelectedCard} onClose={closeAllPopups} />\n\t\t\t</CurrentUserContext.Provider>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}