{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/api.js","components/RemovePlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","name","about","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","likesLength","length","onClick","e","stopPropagation","preventDefault","onCardDelete","title","onCardClick","link","onCardLike","Main","avatar","id","onEditAvatar","onEditProfile","onAddPlace","cards","map","index","Footer","PopupWithForm","isOpenClassName","isOpen","onClose","onSubmit","noValidate","children","type","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","htmlFor","value","onChange","target","placeholder","required","minLength","maxLength","pattern","aria-describedby","AddPlacePopup","setLink","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","status","catch","err","console","log","all","getCardList","getUserInfo","method","body","JSON","stringify","cardId","cardLiked","authorization","RemovePlacePopup","onConfirmDelete","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isSelectedCard","setIsSelectedCard","setCurrentUser","setCards","isRemovePlacePopupOpen","setIsRemovePlacePopupOpen","deletedCard","setDeletedCard","handleEscClose","key","closeAllPopups","window","removeEventListener","myUserInfo","cardList","forEach","push","Provider","addEventListener","changeCardLikeStatus","updatedCard","mappedCards","c","setUserInfo","updatedInfo","addCard","newCard","removeCard","filteredCards","filter","setUserAvatar","updatedAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oLAAe,MAA0B,iC,OCW1BA,MARf,WACC,OACC,wBAAQC,UAAU,SAAlB,SACC,qBAAKC,IAAKC,EAAMC,IAAI,OAAOH,UAAU,YCJ3BI,EAAqBC,IAAMC,cAAc,CAAEC,KAAM,QAASC,MAAO,WC2D/DC,MA1Df,SAAcC,GACb,IAAMC,EAAcN,IAAMO,WAAWR,GAE/BS,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAG7CC,EAAUP,EAAMI,KAAKI,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEJ,MAAQL,EAAYK,OAG7DK,EAAyB,8BAA0BR,EAAQ,GAAK,8BAGhES,EAAuB,4BAAwBL,EAAU,2BAA6B,IAGtFM,EAAcb,EAAMI,KAAKI,MAAMM,OAkBrC,OACC,qBAAIxB,UAAU,OAAd,UACC,wBACCyB,QATH,SAA2BC,GAC1BA,EAAEC,kBACFD,EAAEE,iBACFlB,EAAMmB,aAAanB,EAAMI,OAOvBd,UAAWqB,EACXS,MAAM,6BAEP,qBAAKL,QAvBP,WACCf,EAAMqB,YAAYrB,EAAMI,OAsBQb,IAAKS,EAAMI,KAAKkB,KAAM7B,IAAKO,EAAMI,KAAKP,KAAMP,UAAU,gBACrF,sBAAKA,UAAU,gBAAf,UACC,qBAAKA,UAAU,2BAAf,SACC,oBAAIA,UAAU,cAAd,SAA6BU,EAAMI,KAAKP,SAEzC,sBAAKP,UAAU,4BAAf,UACC,wBACCyB,QA1BL,SAAyBC,GACxBA,EAAEC,kBACFD,EAAEE,iBACFlB,EAAMuB,WAAWvB,EAAMI,OAwBnBd,UAAWsB,EACXQ,MAAM,2BAEP,mBAAG9B,UAAU,cAAb,SAA4BuB,cCJlBW,MA9Cf,SAAcxB,GACb,IAAMC,EAAcN,IAAMO,WAAWR,GAErC,OACC,uBAAMJ,UAAU,OAAhB,UACC,0BAASA,UAAU,UAAnB,UACC,sBAAKA,UAAU,SAAf,UACC,qBAAKC,IAAKU,EAAYwB,OAAQhC,IAAKQ,EAAYJ,KAAMP,UAAU,cAAcoC,GAAG,WAChF,wBACCpC,UAAU,uBACV8B,MAAM,2CACNL,QAASf,EAAM2B,kBAGjB,sBAAKrC,UAAU,gBAAf,UACC,oBAAIA,UAAU,gBAAd,SAA+BW,EAAYJ,OAC3C,wBACCP,UAAU,qBACV8B,MAAM,4CACNL,QAASf,EAAM4B,gBAEhB,mBAAGtC,UAAU,eAAb,SAA6BW,EAAYH,WAE1C,wBACCR,UAAU,oBACV8B,MAAM,wCACNL,QAASf,EAAM6B,gBAGjB,yBAASvC,UAAU,UAAnB,SACC,oBAAIA,UAAU,QAAd,SACEU,EAAM8B,MAAMC,KAAI,SAAC3B,EAAM4B,GAAP,OAChB,cAAC,EAAD,CAEC5B,KAAMA,EACNiB,YAAarB,EAAMqB,YACnBE,WAAYvB,EAAMuB,WAClBJ,aAAcnB,EAAMmB,cAJfa,cC3BGC,MARf,WACC,OACC,wBAAQ3C,UAAU,SAAlB,SACC,mBAAGA,UAAU,oBAAb,qCCgBY4C,MAnBf,SAAuBlC,GACtB,IAAMmC,EAAkBnC,EAAMoC,OAAS,eAAiB,GAExD,OACC,qBAAK9C,UAAS,2BAAsBU,EAAMH,KAA5B,YAAoCsC,GAAlD,SACC,sBAAK7C,UAAS,gEAA2DU,EAAMH,MAA/E,UACC,wBAAQP,UAAU,eAAe8B,MAAM,0BAA0BL,QAASf,EAAMqC,UAChF,oBAAI/C,UAAU,gBAAd,SAA+BU,EAAMoB,QACrC,uBAAM9B,UAAU,OAAOO,KAAMG,EAAMH,KAAMyC,SAAUtC,EAAMsC,SAAUC,YAAU,EAA7E,UACEvC,EAAMwC,SACP,wBAAQlD,UAAU,uBAAuBmD,KAAK,SAASrB,MAAM,2BAA7D,2BCyEUsB,MAjFf,SAA0B1C,GAAQ,IAAD,EACR2C,qBADQ,mBACzB9C,EADyB,KACnB+C,EADmB,OAEMD,qBAFN,mBAEzBE,EAFyB,KAEZC,EAFY,KAK1B7C,EAAcN,IAAMO,WAAWR,GA6BrC,OAzBAC,IAAMoD,WAAU,WACfH,EAAQ3C,EAAYJ,MACpBiD,EAAe7C,EAAYH,SACzB,CAACG,IAuBH,cAAC,EAAD,CACCJ,KAAK,UACLuB,MAAM,eACNgB,OAAQpC,EAAMoC,OACdC,QAASrC,EAAMqC,QACfC,SAjBF,SAAsBtB,GAErBA,EAAEE,iBAGFlB,EAAMgD,aAAa,CAClBnD,KAAMA,EACNC,MAAO+C,KAKR,SAOC,2BAAUvD,UAAU,YAApB,UACC,wBAAOA,UAAU,cAAc2D,QAAQ,aAAvC,UACC,uBACCR,KAAK,OACLS,MAAOrD,EACPsD,SAhCL,SAA0BnC,GACzB4B,EAAQ5B,EAAEoC,OAAOF,QAgCb5D,UAAU,+BACVoC,GAAG,aACH7B,KAAK,aACLwD,YAAY,OACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVC,QAAQ,iBACRC,mBAAiB,qBAElB,sBAAMpE,UAAU,oBAAoBoC,GAAG,wBAExC,wBAAOpC,UAAU,cAAc2D,QAAQ,YAAvC,UACC,uBACCR,KAAK,OACLS,MAAOL,EACPM,SA7CL,SAAiCnC,GAChC8B,EAAe9B,EAAEoC,OAAOF,QA6CpB5D,UAAU,8BACVoC,GAAG,YACH7B,KAAK,YACLwD,YAAY,WACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,MACVE,mBAAiB,oBAElB,sBAAMpE,UAAU,oBAAoBoC,GAAG,6BCR7BiC,MAnEf,SAAuB3D,GAAQ,IAAD,EACL2C,qBADK,mBACtB9C,EADsB,KAChB+C,EADgB,OAELD,qBAFK,mBAEtBrB,EAFsB,KAEhBsC,EAFgB,KAuB7B,OACC,cAAC,EAAD,CACC/D,KAAK,YACLuB,MAAM,YACNgB,OAAQpC,EAAMoC,OACdC,QAASrC,EAAMqC,QACfC,SAjBF,SAAsBtB,GAErBA,EAAEE,iBAGFlB,EAAM6B,WAAW,CAChBhC,KAAMA,EACNyB,KAAMA,KAKP,SAOC,2BAAUhC,UAAU,YAApB,UACC,wBAAOA,UAAU,cAAc2D,QAAQ,cAAvC,UACC,uBACCR,KAAK,OACLS,MAAOrD,EACPsD,SAhCL,SAA0BnC,GACzB4B,EAAQ5B,EAAEoC,OAAOF,QAgCb5D,UAAU,gCACVoC,GAAG,cACH7B,KAAK,cACLwD,YAAY,QACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVE,mBAAiB,sBAElB,sBAAMpE,UAAU,oBAAoBoC,GAAG,yBAExC,wBAAOpC,UAAU,cAAc2D,QAAQ,YAAvC,UACC,uBACCR,KAAK,MACLS,MAAO5B,EACP6B,SA5CL,SAA0BnC,GACzB4C,EAAQ5C,EAAEoC,OAAOF,QA4Cb5D,UAAU,8BACVoC,GAAG,YACH7B,KAAK,YACLwD,YAAY,YACZC,UAAQ,EACRI,mBAAiB,oBAElB,sBAAMpE,UAAU,oBAAoBoC,GAAG,6BCzB7BmC,MAnCf,SAAyB7D,GACxB,IAAM8D,EAAYnE,IAAMoE,OAAO,GAS/B,OACC,cAAC,EAAD,CACClE,KAAK,SACLuB,MAAM,cACNgB,OAAQpC,EAAMoC,OACdC,QAASrC,EAAMqC,QACfC,SAbF,SAAsBtB,GACrBA,EAAEE,iBACFlB,EAAMgE,eAAe,CACpBvC,OAAQqC,EAAUG,QAAQf,SAK3B,SAOC,wBAAO5D,UAAU,cAAc2D,QAAQ,eAAvC,UACC,uBACCR,KAAK,MACLyB,IAAKJ,EACLxE,UAAU,iCACVoC,GAAG,eACH7B,KAAK,eACLwD,YAAY,aACZK,mBAAiB,qBACjBJ,UAAQ,IAET,sBAAMhE,UAAU,oBAAoBoC,GAAG,6BCZ5ByC,MAlBf,SAAoBnE,GACnB,OACC,qBAAKV,UAAS,iCAA4BU,EAAMI,KAAO,eAAiB,IAAxE,SACC,sBAAKd,UAAU,uCAAf,UACC,wBAAQA,UAAU,eAAe8B,MAAM,0BAA0BL,QAASf,EAAMqC,UAChF,yBAAQ/C,UAAU,gBAAlB,UACC,qBACCC,IAAKS,EAAMI,MAAQJ,EAAMI,KAAKkB,KAC9B7B,IAAKO,EAAMI,MAAQJ,EAAMI,KAAKP,KAC9BP,UAAU,iBAEX,4BAAYA,UAAU,iBAAtB,SAAwCU,EAAMI,MAAQJ,EAAMI,KAAKP,gB,cC+EvDuE,EARH,I,WAnFX,cAAmC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAAW,oBACjCC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,+CAGjB,WACC,OAAOI,MAAM,GAAD,OAAIH,KAAKC,SAAT,UAA2B,CACtCF,QAASC,KAAKE,WAEbE,MAAK,SAACC,GAAD,OAAUA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,iBAAyBJ,EAAIK,YAClEC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,yBAG9B,WACC,OAAOT,MAAM,GAAD,OAAIH,KAAKC,SAAT,aAA8B,CACzCF,QAASC,KAAKE,WAEbE,MAAK,SAACC,GAAD,OAAUA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,iBAAyBJ,EAAIK,YAClEC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,wBAG9B,WACC,OAAOJ,QAAQO,IAAI,CAACf,KAAKgB,cAAehB,KAAKiB,kB,qBAG9C,YAAyB,IAAf3F,EAAc,EAAdA,KAAMyB,EAAQ,EAARA,KACf,OAAOoD,MAAM,GAAD,OAAIH,KAAKC,SAAT,UAA2B,CACtCF,QAASC,KAAKE,SACdgB,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACpB/F,OACAyB,WAGAqD,MAAK,SAACC,GAAD,OAAUA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,iBAAyBJ,EAAIK,YAClEC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,wBAG9B,SAAWU,GACV,OAAOnB,MAAM,UAAGH,KAAKC,SAAR,WAA4BqB,EAAQ,CAChDvB,QAASC,KAAKE,SACdgB,OAAQ,WAEPd,MAAK,SAACC,GAAD,OAAUA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,iBAAyBJ,EAAIK,YAClEC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,kCAG9B,SAAqBU,EAAQC,GAC5B,OAAOpB,MAAM,UAAGH,KAAKC,SAAR,iBAAkCqB,EAAQ,CACtDvB,QAASC,KAAKE,SACdgB,OAAQK,EAAY,MAAQ,WAE3BnB,MAAK,SAACC,GAAD,OAAUA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,iBAAyBJ,EAAIK,YAClEC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,yBAG9B,YAA8B,IAAhBtF,EAAe,EAAfA,KAAMC,EAAS,EAATA,MACnB,OAAO4E,MAAM,GAAD,OAAIH,KAAKC,SAAT,aAA8B,CACzCF,QAASC,KAAKE,SACdgB,OAAQ,QACRC,KAAMC,KAAKC,UAAU,CACpB/F,OACAC,YAGA6E,MAAK,SAACC,GAAD,OAAUA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,iBAAyBJ,EAAIK,YAClEC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,2BAG9B,YAA2B,IAAX1D,EAAU,EAAVA,OACf,OAAOiD,MAAM,GAAD,OAAIH,KAAKC,SAAT,oBAAqC,CAChDF,QAASC,KAAKE,SACdgB,OAAQ,QACRC,KAAMC,KAAKC,UAAU,CACpBnE,aAGAkD,MAAK,SAACC,GAAD,OAAUA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,iBAAyBJ,EAAIK,YAClEC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,U,KAKnB,CAAQ,CACnBd,QAAS,6CACTC,QAAS,CACRyB,cAAe,uCACf,eAAgB,sBClEHC,MAnBf,SAA0BhG,GAMzB,OACC,cAAC,EAAD,CACCH,KAAK,SACLuB,MAAM,gBACNgB,OAAQpC,EAAMoC,OAEdC,QAASrC,EAAMqC,QACfC,SAZF,SAAsBtB,GACrBA,EAAEE,iBACFlB,EAAMiG,gBAAgBjG,EAAMI,UC2Lf8F,MAnLf,WAAgB,IAAD,EAC4CvG,IAAMgD,UAAS,GAD3D,mBACPwD,EADO,KACgBC,EADhB,OAE8CzG,IAAMgD,UAAS,GAF7D,mBAEP0D,EAFO,KAEiBC,EAFjB,OAGwC3G,IAAMgD,UAAS,GAHvD,mBAGP4D,EAHO,KAGcC,EAHd,OAI8B7D,mBAAS,MAJvC,mBAIP8D,EAJO,KAISC,EAJT,OAKwB/D,mBAAS,IALjC,mBAKP1C,EALO,KAKM0G,EALN,OAMYhE,mBAAS,IANrB,mBAMPb,EANO,KAMA8E,EANA,OAO8CjE,oBAAS,GAPvD,mBAOPkE,EAPO,KAOiBC,EAPjB,OAQwBnE,mBAAS,MARjC,mBAQPoE,EARO,KAQMC,EARN,KA0Hd,SAASC,EAAejG,GACT,WAAVA,EAAEkG,KACLC,IAIF,SAASA,IACRf,GAAyB,GACzBE,GAA0B,GAC1BE,GAAuB,GACvBE,EAAkB,MAClBI,GAA0B,GAC1BM,OAAOC,oBAAoB,QAASJ,GAGrC,OA/HAtH,IAAMoD,WAAU,WACfqB,EAAIoB,cACFb,MAAK,SAAC2C,GACNX,EAAeW,MAEfpC,OAAM,SAACC,GACPC,QAAQC,IAAIF,QAEZ,IAEHxF,IAAMoD,WAAU,WACfqB,EAAImB,cACFZ,MAAK,SAAC7C,GACN,IAAIyF,EAAW,GACfzF,EAAM0F,SAAQ,SAACpH,GACdmH,EAASE,KAAKrH,MAEfwG,EAASW,MAETrC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC3B,IA4GF,qBAAK7F,UAAU,OAAf,SACC,eAACI,EAAmBgI,SAApB,CAA6BxE,MAAOjD,EAApC,UACC,cAAC,EAAD,IACA,cAAC,EAAD,CACC2B,cA9FJ,WACC0E,GAA0B,GAC1Bc,OAAOO,iBAAiB,QAASV,IA6F9BpF,WA/EJ,WACC2E,GAAuB,GACvBY,OAAOO,iBAAiB,QAASV,IA8E9BtF,aAhHJ,WACCyE,GAAyB,GACzBgB,OAAOO,iBAAiB,QAASV,IA+G9B5F,YA5BJ,SAAyBjB,GACxBsG,EAAkBtG,GAClBgH,OAAOO,iBAAiB,QAASV,IA2B9B1F,WA5DJ,SAAwBnB,GAEvB,IAAMG,EAAUH,EAAKI,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEJ,MAAQL,EAAYK,OAE7D8D,EAAIwD,qBAAqBxH,EAAKE,KAAMC,GAClCoE,MAAK,SAACkD,GAEN,IAAMC,EAAchG,EAAMC,KAAI,SAACgG,GAAD,OAAQA,EAAEzH,MAAQF,EAAKE,IAAMuH,EAAcE,KAEzEnB,EAASkB,MAET5C,OAAM,SAACC,GACPC,QAAQC,IAAIF,OAiDXhE,aAnEJ,SAA2Bf,GAC1B4G,EAAe5G,GACf0G,GAA0B,GAC1BM,OAAOO,iBAAiB,QAASV,IAiE9BnF,MAAOA,IAER,cAAC,EAAD,IACA,cAAC,EAAD,CAAejC,KAAK,iBAAiBuB,MAAM,gBAAgBgB,QAAQ,EAAOC,QAAS8E,IACnF,cAAC,EAAD,CACC/E,OAAQiE,EACRhE,QAAS8E,EACTnE,aAtGJ,YAA4C,IAAhBnD,EAAe,EAAfA,KAAMC,EAAS,EAATA,MACjCsE,EAAI4D,YAAY,CAAEnI,OAAMC,UACtB6E,MAAK,SAACsD,GACNtB,EAAesB,GACf3B,GAA0B,MAE1BpB,OAAM,SAACC,GACPC,QAAQC,IAAIF,SAiGZ,cAAC,EAAD,CACC/C,OAAQmE,EACRlE,QAAS8E,EACTtF,WA3FJ,YAA+C,IAAfhC,EAAc,EAAdA,KAAMyB,EAAQ,EAARA,KACrC8C,EAAI8D,QAAQ,CAAErI,OAAMyB,SAClBqD,MAAK,SAACwD,GACNvB,EAAS,GAAD,mBAAK9E,GAAL,CAAYqG,KACpB3B,GAAuB,MAEvBtB,OAAM,SAACC,GACPC,QAAQC,IAAIF,SAsFZ,cAAC,EAAD,CACC/C,OAAQyE,EACRxE,QAAS8E,EACTlB,gBA/DJ,SAA0Bc,GAEzB3C,EAAIgE,WAAWrB,EAAYzG,KACzBqE,MAAK,WAEL,IAAM0D,EAAgBvG,EAAMwG,QAAO,SAACP,GAAD,OAAOA,EAAEzH,MAAQyG,EAAYzG,OAEhEsG,EAASyB,GACTvB,GAA0B,MAE1B5B,OAAM,SAACC,GACPC,QAAQC,IAAIF,OAqDX/E,KAAM2G,IAEP,cAAC,EAAD,CACC3E,OAAQ+D,EACR9D,QAAS8E,EACTnD,eAtIJ,YAAyC,IAAXvC,EAAU,EAAVA,OAC7B2C,EAAImE,cAAc,CAAE9G,WAClBkD,MAAK,SAAC6D,GACN7B,EAAe6B,GACfpC,GAAyB,MAEzBlB,OAAM,SAACC,GACPC,QAAQC,IAAIF,SAiIZ,cAAC,EAAD,CAAY/E,KAAMqG,EAAgBpE,QAAS8E,UC/KhCsB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBhE,MAAK,YAAkD,IAA/CiE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,MAEDC,SAASC,eAAe,SAMzBZ,K","file":"static/js/main.c300b1e3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.1a2d9102.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<img src={logo} alt=\"logo\" className=\"logo\" />\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext({ name: 'Harry', about: 'Wizard' });\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\t// Check if the current user is the owner of the card\r\n\tconst isOwn = props.card.owner._id === currentUser._id;\r\n\r\n\t// Check if the card was liked by the current user\r\n\tconst isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n\t// Set `className` for the delete button\r\n\tconst cardDeleteButtonClassName = `card__delete-button ${isOwn ? '' : 'card__delete-button_hidden'}`;\r\n\r\n\t// Set `className` for the like button\r\n\tconst cardLikeButtonClassName = `card__like-button ${isLiked ? 'card__like-button_active' : ''}`;\r\n\r\n\t// Set the total number of likes for the card\r\n\tconst likesLength = props.card.likes.length;\r\n\r\n\tfunction handleCardClick() {\r\n\t\tprops.onCardClick(props.card);\r\n\t}\r\n\r\n\tfunction handleLikeClick(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\t\tprops.onCardLike(props.card);\r\n\t}\r\n\r\n\tfunction handleDeleteClick(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\t\tprops.onCardDelete(props.card);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<li className=\"card\">\r\n\t\t\t<button\r\n\t\t\t\tonClick={handleDeleteClick}\r\n\t\t\t\tclassName={cardDeleteButtonClassName}\r\n\t\t\t\ttitle=\"button that deletes card\"\r\n\t\t\t></button>\r\n\t\t\t<img onClick={handleCardClick} src={props.card.link} alt={props.card.name} className=\"card__image\" />\r\n\t\t\t<div className=\"card__content\">\r\n\t\t\t\t<div className=\"card__content_place_left\">\r\n\t\t\t\t\t<h3 className=\"card__title\">{props.card.name}</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"card__content_place_right\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={handleLikeClick}\r\n\t\t\t\t\t\tclassName={cardLikeButtonClassName}\r\n\t\t\t\t\t\ttitle=\"button that likes card\"\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"card__likes\">{likesLength}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\treturn (\r\n\t\t<main className=\"main\">\r\n\t\t\t<section className=\"profile\">\r\n\t\t\t\t<div className=\"avatar\">\r\n\t\t\t\t\t<img src={currentUser.avatar} alt={currentUser.name} className=\"avatar__img\" id=\"avatar\" />\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"button button_avatar\"\r\n\t\t\t\t\t\ttitle=\"button that launches avatar editing form\"\r\n\t\t\t\t\t\tonClick={props.onEditAvatar}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"button button_edit\"\r\n\t\t\t\t\t\ttitle=\"button that launches profile editing form\"\r\n\t\t\t\t\t\tonClick={props.onEditProfile}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"profile__job\">{currentUser.about}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"button button_add\"\r\n\t\t\t\t\ttitle=\"button that launches card adding form\"\r\n\t\t\t\t\tonClick={props.onAddPlace}\r\n\t\t\t\t></button>\r\n\t\t\t</section>\r\n\t\t\t<section className=\"gallery\">\r\n\t\t\t\t<ul className=\"cards\">\r\n\t\t\t\t\t{props.cards.map((card, index) => (\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tcard={card}\r\n\t\t\t\t\t\t\tonCardClick={props.onCardClick}\r\n\t\t\t\t\t\t\tonCardLike={props.onCardLike}\r\n\t\t\t\t\t\t\tonCardDelete={props.onCardDelete}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<p className=\"footer__copyright\">&copy; James Ryan 2021</p>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\tconst isOpenClassName = props.isOpen ? 'popup_opened' : '';\r\n\r\n\treturn (\r\n\t\t<div className={`popup popup_type_${props.name} ${isOpenClassName}`}>\r\n\t\t\t<div className={`popup__modal popup__modal_type_form popup__modal_type_${props.name}`}>\r\n\t\t\t\t<button className=\"popup__close\" title=\"button that closes form\" onClick={props.onClose}></button>\r\n\t\t\t\t<h2 className=\"content-title\">{props.title}</h2>\r\n\t\t\t\t<form className=\"form\" name={props.name} onSubmit={props.onSubmit} noValidate>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t\t<button className=\"button button_submit\" type=\"submit\" title=\"button that submits form\">\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\tconst [name, setName] = useState();\r\n\tconst [description, setDescription] = useState();\r\n\r\n\t// Subscription to the context\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\t// After loading the current user from the API\r\n\t// their data will be used in managed components.\r\n\tReact.useEffect(() => {\r\n\t\tsetName(currentUser.name);\r\n\t\tsetDescription(currentUser.about);\r\n\t}, [currentUser]);\r\n\r\n\t// the input event handler changes the state\r\n\tfunction handleNameChange(e) {\r\n\t\tsetName(e.target.value);\r\n\t}\r\n\r\n\tfunction handleDescriptionChange(e) {\r\n\t\tsetDescription(e.target.value);\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\t// Prevent the browser from navigating to the form address\r\n\t\te.preventDefault();\r\n\r\n\t\t// Pass the values of the managed components to the external handler\r\n\t\tprops.onUpdateUser({\r\n\t\t\tname: name,\r\n\t\t\tabout: description,\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"profile\"\r\n\t\t\ttitle=\"Edit profile\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<fieldset className=\"form__set\">\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"name-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={handleNameChange}\r\n\t\t\t\t\t\tclassName=\"form__input form__input_name\"\r\n\t\t\t\t\t\tid=\"name-input\"\r\n\t\t\t\t\t\tname=\"name-input\"\r\n\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\t\t\tpattern=\"[A-Za-z -]{2,}\"\r\n\t\t\t\t\t\taria-describedby=\"name-input-error\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"form__input-error\" id=\"name-input-error\"></span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"job-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={handleDescriptionChange}\r\n\t\t\t\t\t\tclassName=\"form__input form__input_job\"\r\n\t\t\t\t\t\tid=\"job-input\"\r\n\t\t\t\t\t\tname=\"job-input\"\r\n\t\t\t\t\t\tplaceholder=\"About Me\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"200\"\r\n\t\t\t\t\t\taria-describedby=\"job-input-error\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"form__input-error\" id=\"job-input-error\"></span>\r\n\t\t\t\t</label>\r\n\t\t\t</fieldset>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\tconst [name, setName] = useState();\r\n\tconst [link, setLink] = useState();\r\n\r\n\tfunction handleNameChange(e) {\r\n\t\tsetName(e.target.value);\r\n\t}\r\n\r\n\tfunction handleLinkChange(e) {\r\n\t\tsetLink(e.target.value);\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\t// Prevent the browser from navigating to the form address\r\n\t\te.preventDefault();\r\n\r\n\t\t// Pass the values of the managed components to the external handler\r\n\t\tprops.onAddPlace({\r\n\t\t\tname: name,\r\n\t\t\tlink: link,\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"new-place\"\r\n\t\t\ttitle=\"New place\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<fieldset className=\"form__set\">\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"title-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={handleNameChange}\r\n\t\t\t\t\t\tclassName=\"form__input form__input_title\"\r\n\t\t\t\t\t\tid=\"title-input\"\r\n\t\t\t\t\t\tname=\"title-input\"\r\n\t\t\t\t\t\tplaceholder=\"Title\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"1\"\r\n\t\t\t\t\t\tmaxLength=\"30\"\r\n\t\t\t\t\t\taria-describedby=\"title-input-error\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"form__input-error\" id=\"title-input-error\"></span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"url-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\tvalue={link}\r\n\t\t\t\t\t\tonChange={handleLinkChange}\r\n\t\t\t\t\t\tclassName=\"form__input form__input_url\"\r\n\t\t\t\t\t\tid=\"url-input\"\r\n\t\t\t\t\t\tname=\"url-input\"\r\n\t\t\t\t\t\tplaceholder=\"Image URL\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\taria-describedby=\"url-input-error\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"form__input-error\" id=\"url-input-error\"></span>\r\n\t\t\t\t</label>\r\n\t\t\t</fieldset>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\tconst avatarRef = React.useRef(0);\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tprops.onUpdateAvatar({\r\n\t\t\tavatar: avatarRef.current.value,\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"avatar\"\r\n\t\t\ttitle=\"Edit avatar\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<label className=\"form__label\" htmlFor=\"avatar-input\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\tref={avatarRef}\r\n\t\t\t\t\tclassName=\"form__input form__input_avatar\"\r\n\t\t\t\t\tid=\"avatar-input\"\r\n\t\t\t\t\tname=\"avatar-input\"\r\n\t\t\t\t\tplaceholder=\"Avatar URL\"\r\n\t\t\t\t\taria-describedby=\"avatar-input-error\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"form__input-error\" id=\"avatar-input-error\"></span>\r\n\t\t\t</label>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\treturn (\r\n\t\t<div className={`popup popup_type_image ${props.card ? 'popup_opened' : ''}`}>\r\n\t\t\t<div className=\"popup__modal popup__modal_type_image\">\r\n\t\t\t\t<button className=\"popup__close\" title=\"button that closes form\" onClick={props.onClose}></button>\r\n\t\t\t\t<figure className=\"popup__figure\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={props.card && props.card.link}\r\n\t\t\t\t\t\talt={props.card && props.card.name}\r\n\t\t\t\t\t\tclassName=\"popup__image\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<figcaption className=\"popup__caption\">{props.card && props.card.name}</figcaption>\r\n\t\t\t\t</figure>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\n\tconstructor({ baseUrl, headers }) {\n\t\tthis._baseUrl = baseUrl;\n\t\tthis._headers = headers;\n\t}\n\n\tgetCardList() {\n\t\treturn fetch(`${this._baseUrl}/cards`, {\n\t\t\theaders: this._headers,\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tgetUserInfo() {\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\n\t\t\theaders: this._headers,\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tgetAppInfo() {\n\t\treturn Promise.all([this.getCardList(), this.getUserInfo()]);\n\t}\n\n\taddCard({ name, link }) {\n\t\treturn fetch(`${this._baseUrl}/cards`, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname,\n\t\t\t\tlink,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tremoveCard(cardId) {\n\t\treturn fetch(`${this._baseUrl}/cards/` + cardId, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'DELETE',\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tchangeCardLikeStatus(cardId, cardLiked) {\n\t\treturn fetch(`${this._baseUrl}/cards/likes/` + cardId, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: cardLiked ? 'PUT' : 'DELETE',\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tsetUserInfo({ name, about }) {\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'PATCH',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname,\n\t\t\t\tabout,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tsetUserAvatar({ avatar }) {\n\t\treturn fetch(`${this._baseUrl}/users/me/avatar`, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'PATCH',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tavatar,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)))\n\t\t\t.catch((err) => console.log(err));\n\t}\n}\n\n// Api class instantiated only once (singleton pattern)\nconst api = new Api({\n\tbaseUrl: 'https://around.nomoreparties.co/v1/group-9',\n\theaders: {\n\t\tauthorization: '68927198-85ad-496d-8f9c-4cee8f16e3cd',\n\t\t'Content-Type': 'application/json',\n\t},\n});\n\nexport default api;\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction RemovePlacePopup(props) {\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tprops.onConfirmDelete(props.card);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"delete\"\r\n\t\t\ttitle=\"Are you sure?\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\t//isSubmitActive={true}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\t//submitText={props.submitText}\r\n\t\t></PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default RemovePlacePopup;\r\n","import '../index.css';\nimport React, { useState } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport RemovePlacePopup from './RemovePlacePopup';\n\nfunction App() {\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\tconst [isSelectedCard, setIsSelectedCard] = useState(null);\n\tconst [currentUser, setCurrentUser] = useState({});\n\tconst [cards, setCards] = useState([]);\n\tconst [isRemovePlacePopupOpen, setIsRemovePlacePopupOpen] = useState(false);\n\tconst [deletedCard, setDeletedCard] = useState(null);\n\n\tReact.useEffect(() => {\n\t\tapi.getUserInfo()\n\t\t\t.then((myUserInfo) => {\n\t\t\t\tsetCurrentUser(myUserInfo);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}, []);\n\n\tReact.useEffect(() => {\n\t\tapi.getCardList()\n\t\t\t.then((cards) => {\n\t\t\t\tlet cardList = [];\n\t\t\t\tcards.forEach((card) => {\n\t\t\t\t\tcardList.push(card);\n\t\t\t\t});\n\t\t\t\tsetCards(cardList);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t}, []);\n\n\tfunction handleEditAvatarClick() {\n\t\tsetIsEditAvatarPopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleUpdateAvatar({ avatar }) {\n\t\tapi.setUserAvatar({ avatar })\n\t\t\t.then((updatedAvatar) => {\n\t\t\t\tsetCurrentUser(updatedAvatar);\n\t\t\t\tsetIsEditAvatarPopupOpen(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tfunction handleEditProfileClick() {\n\t\tsetIsEditProfilePopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleUpdateUser({ name, about }) {\n\t\tapi.setUserInfo({ name, about })\n\t\t\t.then((updatedInfo) => {\n\t\t\t\tsetCurrentUser(updatedInfo);\n\t\t\t\tsetIsEditProfilePopupOpen(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tfunction handleAddPlaceClick() {\n\t\tsetIsAddPlacePopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleAddPlaceSubmit({ name, link }) {\n\t\tapi.addCard({ name, link })\n\t\t\t.then((newCard) => {\n\t\t\t\tsetCards([...cards, newCard]);\n\t\t\t\tsetIsAddPlacePopupOpen(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tfunction handleDeleteClick(card) {\n\t\tsetDeletedCard(card);\n\t\tsetIsRemovePlacePopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleCardLike(card) {\n\t\t// Check one more time if this card was already liked\n\t\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\n\t\t// Send a request to the API to get the updated card data\n\t\tapi.changeCardLikeStatus(card._id, !isLiked)\n\t\t\t.then((updatedCard) => {\n\t\t\t\t// Create a new array based on the existing one and put the updated card into it\n\t\t\t\tconst mappedCards = cards.map((c) => (c._id === card._id ? updatedCard : c));\n\t\t\t\t// Update the state\n\t\t\t\tsetCards(mappedCards);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tfunction handleCardDelete(deletedCard) {\n\t\t// Send a request to the API to delete the card\n\t\tapi.removeCard(deletedCard._id)\n\t\t\t.then(() => {\n\t\t\t\t// Create a new array based on the existing one minus the deleted card\n\t\t\t\tconst filteredCards = cards.filter((c) => c._id !== deletedCard._id);\n\t\t\t\t// Update the state\n\t\t\t\tsetCards(filteredCards);\n\t\t\t\tsetIsRemovePlacePopupOpen(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tfunction handleCardClick(card) {\n\t\tsetIsSelectedCard(card);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleEscClose(e) {\n\t\tif (e.key === 'Escape') {\n\t\t\tcloseAllPopups();\n\t\t}\n\t}\n\n\tfunction closeAllPopups() {\n\t\tsetIsEditAvatarPopupOpen(false);\n\t\tsetIsEditProfilePopupOpen(false);\n\t\tsetIsAddPlacePopupOpen(false);\n\t\tsetIsSelectedCard(null);\n\t\tsetIsRemovePlacePopupOpen(false);\n\t\twindow.removeEventListener('keyup', handleEscClose);\n\t}\n\n\treturn (\n\t\t<div className=\"page\">\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\n\t\t\t\t<Header />\n\t\t\t\t<Main\n\t\t\t\t\tonEditProfile={handleEditProfileClick}\n\t\t\t\t\tonAddPlace={handleAddPlaceClick}\n\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\n\t\t\t\t\tonCardClick={handleCardClick}\n\t\t\t\t\tonCardLike={handleCardLike}\n\t\t\t\t\tonCardDelete={handleDeleteClick}\n\t\t\t\t\tcards={cards}\n\t\t\t\t/>\n\t\t\t\t<Footer />\n\t\t\t\t<PopupWithForm name=\"confirm delete\" title=\"Are you sure?\" isOpen={false} onClose={closeAllPopups} />\n\t\t\t\t<EditProfilePopup\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\n\t\t\t\t/>\n\t\t\t\t<AddPlacePopup\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\n\t\t\t\t/>\n\t\t\t\t<RemovePlacePopup\n\t\t\t\t\tisOpen={isRemovePlacePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonConfirmDelete={handleCardDelete}\n\t\t\t\t\tcard={deletedCard}\n\t\t\t\t/>\n\t\t\t\t<EditAvatarPopup\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\n\t\t\t\t/>\n\t\t\t\t<ImagePopup card={isSelectedCard} onClose={closeAllPopups} />\n\t\t\t</CurrentUserContext.Provider>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}