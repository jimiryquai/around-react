{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/api.js","components/RemovePlacePopup.js","utils/constants.js","images/avatar.jpg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","name","about","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","likesLength","length","onClick","e","stopPropagation","preventDefault","onCardDelete","title","onCardClick","link","onCardLike","Main","avatar","id","onEditAvatar","onEditProfile","onAddPlace","cards","map","index","Footer","PopupWithForm","isOpenClassName","isOpen","isInactiveClassName","isSubmitButtonActive","onClose","onSubmit","noValidate","children","type","submitText","EditProfilePopup","useState","setName","description","setDescription","nameInputErrorMessage","setNameInputErrorMessage","descriptionInputErrorMessage","setDescriptionInputErrorMessage","showNameInputError","showDescriptionInputError","useEffect","onUpdateUser","htmlFor","value","onChange","target","placeholder","required","minLength","maxLength","pattern","aria-describedby","onInput","validity","valid","validationMessage","event","AddPlacePopup","setLink","linkInputErrorMessage","setLinkInputErrorMessage","showLinkInputError","EditAvatarPopup","avatarRef","useRef","errorMessage","setErrorMessage","showErrorMessage","onUpdateAvatar","current","ref","ImagePopup","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","status","all","getCardList","getUserInfo","method","body","JSON","stringify","cardId","cardLiked","authorization","RemovePlacePopup","onConfirmDelete","submitSave","submitSaving","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isSelectedCard","setIsSelectedCard","setCurrentUser","setCards","isRemovePlacePopupOpen","setIsRemovePlacePopupOpen","deletedCard","setDeletedCard","setSubmitText","handleEscClose","key","closeAllPopups","window","removeEventListener","getAppInfo","userInfo","cardList","forEach","push","catch","err","console","log","Provider","addEventListener","changeCardLikeStatus","updatedCard","mappedCards","c","setUserInfo","updatedInfo","addCard","newCard","removeCard","filteredCards","filter","setUserAvatar","updatedAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a5d4e24.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.1a2d9102.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<img src={logo} alt=\"logo\" className=\"logo\" />\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext({ name: 'Harry', about: 'Wizard' });\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\t// Check if the current user is the owner of the card\r\n\tconst isOwn = props.card.owner._id === currentUser._id;\r\n\r\n\t// Check if the card was liked by the current user\r\n\tconst isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n\t// Set `className` for the delete button\r\n\tconst cardDeleteButtonClassName = `card__delete-button ${isOwn ? '' : 'card__delete-button_hidden'}`;\r\n\r\n\t// Set `className` for the like button\r\n\tconst cardLikeButtonClassName = `card__like-button ${isLiked ? 'card__like-button_active' : ''}`;\r\n\r\n\t// Set the total number of likes for the card\r\n\tconst likesLength = props.card.likes.length;\r\n\r\n\tfunction handleCardClick() {\r\n\t\tprops.onCardClick(props.card);\r\n\t}\r\n\r\n\tfunction handleLikeClick(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\t\tprops.onCardLike(props.card);\r\n\t}\r\n\r\n\tfunction handleDeleteClick(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\t\tprops.onCardDelete(props.card);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<li className=\"card\">\r\n\t\t\t<button\r\n\t\t\t\tonClick={handleDeleteClick}\r\n\t\t\t\tclassName={cardDeleteButtonClassName}\r\n\t\t\t\ttitle=\"button that deletes card\"\r\n\t\t\t></button>\r\n\t\t\t<img onClick={handleCardClick} src={props.card.link} alt={props.card.name} className=\"card__image\" />\r\n\t\t\t<div className=\"card__content\">\r\n\t\t\t\t<div className=\"card__content_place_left\">\r\n\t\t\t\t\t<h3 className=\"card__title\">{props.card.name}</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"card__content_place_right\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={handleLikeClick}\r\n\t\t\t\t\t\tclassName={cardLikeButtonClassName}\r\n\t\t\t\t\t\ttitle=\"button that likes card\"\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"card__likes\">{likesLength}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\treturn (\r\n\t\t<main className=\"main\">\r\n\t\t\t<section className=\"profile\">\r\n\t\t\t\t<div className=\"avatar\">\r\n\t\t\t\t\t<img src={currentUser.avatar} alt={currentUser.name} className=\"avatar__img\" id=\"avatar\" />\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"button button_avatar\"\r\n\t\t\t\t\t\ttitle=\"button that launches avatar editing form\"\r\n\t\t\t\t\t\tonClick={props.onEditAvatar}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"button button_edit\"\r\n\t\t\t\t\t\ttitle=\"button that launches profile editing form\"\r\n\t\t\t\t\t\tonClick={props.onEditProfile}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"profile__job\">{currentUser.about}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"button button_add\"\r\n\t\t\t\t\ttitle=\"button that launches card adding form\"\r\n\t\t\t\t\tonClick={props.onAddPlace}\r\n\t\t\t\t></button>\r\n\t\t\t</section>\r\n\t\t\t<section className=\"gallery\">\r\n\t\t\t\t<ul className=\"cards\">\r\n\t\t\t\t\t{props.cards.map((card, index) => (\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tcard={card}\r\n\t\t\t\t\t\t\tonCardClick={props.onCardClick}\r\n\t\t\t\t\t\t\tonCardLike={props.onCardLike}\r\n\t\t\t\t\t\t\tonCardDelete={props.onCardDelete}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<p className=\"footer__copyright\">&copy; James Ryan 2021</p>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\tconst isOpenClassName = props.isOpen ? 'popup_opened' : '';\r\n\tconst isInactiveClassName = props.isSubmitButtonActive ? '' : 'button_inactive';\r\n\r\n\treturn (\r\n\t\t<div className={`popup popup_type_${props.name} ${isOpenClassName}`}>\r\n\t\t\t<div className={`popup__modal popup__modal_type_form popup__modal_type_${props.name}`}>\r\n\t\t\t\t<button className=\"popup__close\" title=\"button that closes form\" onClick={props.onClose}></button>\r\n\t\t\t\t<h2 className=\"content-title\">{props.title}</h2>\r\n\t\t\t\t<form className=\"form\" name={props.name} onSubmit={props.onSubmit} noValidate>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={`button button_submit ${isInactiveClassName}`}\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\ttitle=\"button that submits form\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{props.submitText}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\tconst [name, setName] = useState('');\r\n\tconst [description, setDescription] = useState('');\r\n\tconst [nameInputErrorMessage, setNameInputErrorMessage] = useState('');\r\n\tconst [descriptionInputErrorMessage, setDescriptionInputErrorMessage] = useState('');\r\n\tconst showNameInputError = nameInputErrorMessage ? 'form__input-error_active' : '';\r\n\tconst showDescriptionInputError = descriptionInputErrorMessage ? 'form__input-error_active' : '';\r\n\tconst isSubmitButtonActive = !showNameInputError && !showDescriptionInputError;\r\n\r\n\t// Subscription to the context\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\t// After loading the current user from the API\r\n\t// their data will be used in managed components.\r\n\tReact.useEffect(() => {\r\n\t\tsetName(currentUser.name);\r\n\t\tsetDescription(currentUser.about);\r\n\t}, [currentUser]);\r\n\r\n\t// the input event handler changes the state\r\n\tfunction handleNameChange(e) {\r\n\t\tsetName(e.target.value);\r\n\t}\r\n\r\n\tfunction handleDescriptionChange(e) {\r\n\t\tsetDescription(e.target.value);\r\n\t}\r\n\r\n\tfunction validateNameInput(e) {\r\n\t\t!e.target.validity.valid\r\n\t\t\t? setNameInputErrorMessage(e.target.validationMessage)\r\n\t\t\t: setNameInputErrorMessage(null);\r\n\t}\r\n\r\n\tfunction validateDescriptionInput(event) {\r\n\t\t!event.target.validity.valid\r\n\t\t\t? setDescriptionInputErrorMessage(event.target.validationMessage)\r\n\t\t\t: setDescriptionInputErrorMessage(null);\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\t// Prevent the browser from navigating to the form address\r\n\t\te.preventDefault();\r\n\r\n\t\t// Pass the values of the managed components to the external handler\r\n\t\tprops.onUpdateUser({\r\n\t\t\tname: name,\r\n\t\t\tabout: description,\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"profile\"\r\n\t\t\ttitle=\"Edit profile\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\tisSubmitButtonActive={isSubmitButtonActive}\r\n\t\t\tsubmitText={props.submitText}\r\n\t\t>\r\n\t\t\t<fieldset className=\"form__set\">\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"name-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={handleNameChange}\r\n\t\t\t\t\t\tclassName=\"form__input form__input_name\"\r\n\t\t\t\t\t\tid=\"name-input\"\r\n\t\t\t\t\t\tname=\"name-input\"\r\n\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\t\t\tpattern=\"[A-Za-z -]{2,}\"\r\n\t\t\t\t\t\taria-describedby=\"name-input-error\"\r\n\t\t\t\t\t\tonInput={validateNameInput}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className={`form__input-error ${showNameInputError}`} id=\"name-input-error\">\r\n\t\t\t\t\t\t{nameInputErrorMessage}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"job-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={handleDescriptionChange}\r\n\t\t\t\t\t\tclassName=\"form__input form__input_job\"\r\n\t\t\t\t\t\tid=\"job-input\"\r\n\t\t\t\t\t\tname=\"job-input\"\r\n\t\t\t\t\t\tplaceholder=\"About Me\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"200\"\r\n\t\t\t\t\t\taria-describedby=\"job-input-error\"\r\n\t\t\t\t\t\tonInput={validateDescriptionInput}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className={`form__input-error ${showDescriptionInputError}`} id=\"job-input-error\">\r\n\t\t\t\t\t\t{descriptionInputErrorMessage}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</label>\r\n\t\t\t</fieldset>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\tconst [name, setName] = useState('');\r\n\tconst [link, setLink] = useState('');\r\n\tconst [nameInputErrorMessage, setNameInputErrorMessage] = useState('');\r\n\tconst [linkInputErrorMessage, setLinkInputErrorMessage] = useState('');\r\n\tconst showNameInputError = nameInputErrorMessage ? 'form__input-error_active' : '';\r\n\tconst showLinkInputError = linkInputErrorMessage ? 'form__input-error_active' : '';\r\n\tconst isSubmitButtonActive = !showNameInputError && !showLinkInputError;\r\n\r\n\tfunction handleNameChange(e) {\r\n\t\tsetName(e.target.value);\r\n\t}\r\n\r\n\tfunction handleLinkChange(e) {\r\n\t\tsetLink(e.target.value);\r\n\t}\r\n\r\n\tfunction validateNameInput(e) {\r\n\t\t!e.target.validity.valid ? setNameInputErrorMessage(e.target.validationMessage) : setNameInputErrorMessage('');\r\n\t}\r\n\r\n\tfunction validateLinkInput(e) {\r\n\t\t!e.target.validity.valid\r\n\t\t\t? setLinkInputErrorMessage(e.target.validationMessage)\r\n\t\t\t: setLinkInputErrorMessage(null);\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\t// Prevent the browser from navigating to the form address\r\n\t\te.preventDefault();\r\n\r\n\t\t// Pass the values of the managed components to the external handler\r\n\t\tprops.onAddPlace({\r\n\t\t\tname: name,\r\n\t\t\tlink: link,\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"add-place\"\r\n\t\t\ttitle=\"Add place\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\tisSubmitButtonActive={isSubmitButtonActive}\r\n\t\t\tsubmitText={props.submitText}\r\n\t\t>\r\n\t\t\t<fieldset className=\"form__set\">\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"title-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={handleNameChange}\r\n\t\t\t\t\t\tclassName=\"form__input form__input_title\"\r\n\t\t\t\t\t\tid=\"title-input\"\r\n\t\t\t\t\t\tname=\"title-input\"\r\n\t\t\t\t\t\tplaceholder=\"Title\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"1\"\r\n\t\t\t\t\t\tmaxLength=\"30\"\r\n\t\t\t\t\t\taria-describedby=\"title-input-error\"\r\n\t\t\t\t\t\tonInput={validateNameInput}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className={`form__input-error ${showNameInputError}`} id=\"title-input-error\">\r\n\t\t\t\t\t\t{nameInputErrorMessage}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label className=\"form__label\" htmlFor=\"url-input\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\tvalue={link}\r\n\t\t\t\t\t\tonChange={handleLinkChange}\r\n\t\t\t\t\t\tclassName=\"form__input form__input_url\"\r\n\t\t\t\t\t\tid=\"url-input\"\r\n\t\t\t\t\t\tname=\"url-input\"\r\n\t\t\t\t\t\tplaceholder=\"Image URL\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\taria-describedby=\"url-input-error\"\r\n\t\t\t\t\t\tonInput={validateLinkInput}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className={`form__input-error ${showLinkInputError}`} id=\"url-input-error\">\r\n\t\t\t\t\t\t{linkInputErrorMessage}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</label>\r\n\t\t\t</fieldset>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\tconst avatarRef = React.useRef(0);\r\n\tconst [errorMessage, setErrorMessage] = useState('');\r\n\tconst showErrorMessage = errorMessage ? 'form__input-error_active' : '';\r\n\tconst isSubmitButtonActive = !showErrorMessage;\r\n\r\n\tfunction validateLinkInput(e) {\r\n\t\t!e.target.validity.valid ? setErrorMessage(e.target.validationMessage) : setErrorMessage(null);\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tprops.onUpdateAvatar({\r\n\t\t\tavatar: avatarRef.current.value,\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"avatar\"\r\n\t\t\ttitle=\"Edit avatar\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\tisSubmitButtonActive={isSubmitButtonActive}\r\n\t\t\tsubmitText={props.submitText}\r\n\t\t>\r\n\t\t\t<label className=\"form__label\" htmlFor=\"avatar-input\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\tref={avatarRef}\r\n\t\t\t\t\tclassName=\"form__input form__input_avatar\"\r\n\t\t\t\t\tid=\"avatar-input\"\r\n\t\t\t\t\tname=\"avatar-input\"\r\n\t\t\t\t\tplaceholder=\"Avatar URL\"\r\n\t\t\t\t\taria-describedby=\"avatar-input-error\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tonInput={validateLinkInput}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className={`form__input-error ${showErrorMessage}`} id=\"avatar-input-error\">\r\n\t\t\t\t\t{errorMessage}\r\n\t\t\t\t</span>\r\n\t\t\t</label>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\treturn (\r\n\t\t<div className={`popup popup_type_image ${props.card ? 'popup_opened' : ''}`}>\r\n\t\t\t<div className=\"popup__modal popup__modal_type_image\">\r\n\t\t\t\t<button className=\"popup__close\" title=\"button that closes form\" onClick={props.onClose}></button>\r\n\t\t\t\t<figure className=\"popup__figure\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={props.card && props.card.link}\r\n\t\t\t\t\t\talt={props.card && props.card.name}\r\n\t\t\t\t\t\tclassName=\"popup__image\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<figcaption className=\"popup__caption\">{props.card && props.card.name}</figcaption>\r\n\t\t\t\t</figure>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\n\tconstructor({ baseUrl, headers }) {\n\t\tthis._baseUrl = baseUrl;\n\t\tthis._headers = headers;\n\t}\n\n\tgetCardList() {\n\t\treturn fetch(`${this._baseUrl}/cards`, {\n\t\t\theaders: this._headers,\n\t\t}).then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)));\n\t}\n\n\tgetUserInfo() {\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\n\t\t\theaders: this._headers,\n\t\t}).then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)));\n\t}\n\n\tgetAppInfo() {\n\t\treturn Promise.all([this.getCardList(), this.getUserInfo()]);\n\t}\n\n\taddCard({ name, link }) {\n\t\treturn fetch(`${this._baseUrl}/cards`, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname,\n\t\t\t\tlink,\n\t\t\t}),\n\t\t}).then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)));\n\t}\n\n\tremoveCard(cardId) {\n\t\treturn fetch(`${this._baseUrl}/cards/` + cardId, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'DELETE',\n\t\t}).then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)));\n\t}\n\n\tchangeCardLikeStatus(cardId, cardLiked) {\n\t\treturn fetch(`${this._baseUrl}/cards/likes/` + cardId, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: cardLiked ? 'PUT' : 'DELETE',\n\t\t}).then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)));\n\t}\n\n\tsetUserInfo({ name, about }) {\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'PATCH',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname,\n\t\t\t\tabout,\n\t\t\t}),\n\t\t}).then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)));\n\t}\n\n\tsetUserAvatar({ avatar }) {\n\t\treturn fetch(`${this._baseUrl}/users/me/avatar`, {\n\t\t\theaders: this._headers,\n\t\t\tmethod: 'PATCH',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tavatar,\n\t\t\t}),\n\t\t}).then((res) => (res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)));\n\t}\n}\n\n// Api class instantiated only once (singleton pattern)\nconst api = new Api({\n\tbaseUrl: 'https://around.nomoreparties.co/v1/group-9',\n\theaders: {\n\t\tauthorization: '68927198-85ad-496d-8f9c-4cee8f16e3cd',\n\t\t'Content-Type': 'application/json',\n\t},\n});\n\nexport default api;\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction RemovePlacePopup(props) {\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tprops.onConfirmDelete(props.card);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"delete\"\r\n\t\t\ttitle=\"Are you sure?\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tisSubmitButtonActive={true}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\tsubmitText={props.submitText}\r\n\t\t></PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default RemovePlacePopup;\r\n","import avatarSrc from '../images/avatar.jpg';\n\nconst defaultAvatarPicture = avatarSrc;\nconst submitSave = 'Save';\nconst submitSaving = 'Saving...';\nconst submitDelete = 'Delete';\nconst submitDeleting = 'Deleting...';\n\nexport { defaultAvatarPicture, submitSave, submitSaving, submitDelete, submitDeleting };\n","export default __webpack_public_path__ + \"static/media/avatar.a40fe61d.jpg\";","import '../index.css';\nimport React, { useState } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport RemovePlacePopup from './RemovePlacePopup';\nimport { submitSave, submitSaving, submitDelete, submitDeleting } from '../utils/constants';\n\nfunction App() {\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\tconst [isSelectedCard, setIsSelectedCard] = useState(null);\n\tconst [currentUser, setCurrentUser] = useState({});\n\tconst [cards, setCards] = useState([]);\n\tconst [isRemovePlacePopupOpen, setIsRemovePlacePopupOpen] = useState(false);\n\tconst [deletedCard, setDeletedCard] = useState(null);\n\tconst [submitText, setSubmitText] = useState('');\n\n\tReact.useEffect(() => {\n\t\tapi.getAppInfo()\n\t\t\t.then(([cards, userInfo]) => {\n\t\t\t\tsetCurrentUser(userInfo);\n\t\t\t\tlet cardList = [];\n\t\t\t\tcards.forEach((card) => {\n\t\t\t\t\tcardList.push(card);\n\t\t\t\t});\n\t\t\t\tsetCards(cardList);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}, []);\n\n\tfunction handleEditAvatarClick() {\n\t\tsetSubmitText(submitSave);\n\t\tsetIsEditAvatarPopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleUpdateAvatar({ avatar }) {\n\t\tsetSubmitText(submitSaving);\n\t\tapi.setUserAvatar({ avatar })\n\t\t\t.then((updatedAvatar) => {\n\t\t\t\tsetCurrentUser(updatedAvatar);\n\t\t\t\tsetIsEditAvatarPopupOpen(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tfunction handleEditProfileClick() {\n\t\tsetSubmitText(submitSave);\n\t\tsetIsEditProfilePopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleUpdateUser({ name, about }) {\n\t\tsetSubmitText(submitSaving);\n\t\tapi.setUserInfo({ name, about })\n\t\t\t.then((updatedInfo) => {\n\t\t\t\tsetCurrentUser(updatedInfo);\n\t\t\t\tsetIsEditProfilePopupOpen(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tfunction handleAddPlaceClick() {\n\t\tsetSubmitText(submitSave);\n\t\tsetIsAddPlacePopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleAddPlaceSubmit({ name, link }) {\n\t\tsetSubmitText(submitSaving);\n\t\tapi.addCard({ name, link })\n\t\t\t.then((newCard) => {\n\t\t\t\tsetCards([newCard, ...cards]);\n\t\t\t\tsetIsAddPlacePopupOpen(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tfunction handleDeleteClick(card) {\n\t\tsetDeletedCard(card);\n\t\tsetSubmitText(submitDelete);\n\t\tsetIsRemovePlacePopupOpen(true);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleCardLike(card) {\n\t\t// Check one more time if this card was already liked\n\t\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\n\t\t// Send a request to the API to get the updated card data\n\t\tapi.changeCardLikeStatus(card._id, !isLiked)\n\t\t\t.then((updatedCard) => {\n\t\t\t\t// Create a new array based on the existing one and put the updated card into it\n\t\t\t\tconst mappedCards = cards.map((c) => (c._id === card._id ? updatedCard : c));\n\t\t\t\t// Update the state\n\t\t\t\tsetCards(mappedCards);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tfunction handleCardDelete(deletedCard) {\n\t\tsetSubmitText(submitDeleting);\n\t\t// Send a request to the API to delete the card\n\t\tapi.removeCard(deletedCard._id)\n\t\t\t.then(() => {\n\t\t\t\t// Create a new array based on the existing one minus the deleted card\n\t\t\t\tconst filteredCards = cards.filter((c) => c._id !== deletedCard._id);\n\t\t\t\t// Update the state\n\t\t\t\tsetCards(filteredCards);\n\t\t\t\tsetIsRemovePlacePopupOpen(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tfunction handleCardClick(card) {\n\t\tsetIsSelectedCard(card);\n\t\twindow.addEventListener('keyup', handleEscClose);\n\t}\n\n\tfunction handleEscClose(e) {\n\t\tif (e.key === 'Escape') {\n\t\t\tcloseAllPopups();\n\t\t}\n\t}\n\n\tfunction closeAllPopups() {\n\t\tsetIsEditAvatarPopupOpen(false);\n\t\tsetIsEditProfilePopupOpen(false);\n\t\tsetIsAddPlacePopupOpen(false);\n\t\tsetIsSelectedCard(null);\n\t\tsetIsRemovePlacePopupOpen(false);\n\t\twindow.removeEventListener('keyup', handleEscClose);\n\t}\n\n\treturn (\n\t\t<div className=\"page\">\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\n\t\t\t\t<Header />\n\t\t\t\t<Main\n\t\t\t\t\tonEditProfile={handleEditProfileClick}\n\t\t\t\t\tonAddPlace={handleAddPlaceClick}\n\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\n\t\t\t\t\tonCardClick={handleCardClick}\n\t\t\t\t\tonCardLike={handleCardLike}\n\t\t\t\t\tonCardDelete={handleDeleteClick}\n\t\t\t\t\tcards={cards}\n\t\t\t\t/>\n\t\t\t\t<Footer />\n\t\t\t\t<EditProfilePopup\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\n\t\t\t\t\tsubmitText={submitText}\n\t\t\t\t/>\n\t\t\t\t<AddPlacePopup\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\n\t\t\t\t\tsubmitText={submitText}\n\t\t\t\t/>\n\t\t\t\t<RemovePlacePopup\n\t\t\t\t\tisOpen={isRemovePlacePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonConfirmDelete={handleCardDelete}\n\t\t\t\t\tcard={deletedCard}\n\t\t\t\t\tsubmitText={submitText}\n\t\t\t\t/>\n\t\t\t\t<EditAvatarPopup\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\n\t\t\t\t/>\n\t\t\t\t<ImagePopup card={isSelectedCard} onClose={closeAllPopups} />\n\t\t\t</CurrentUserContext.Provider>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}